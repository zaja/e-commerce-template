{{!--
  Products Grid Section
  Displays products in a responsive grid - uses shared product-card partial
  
  Config:
  - title: string - Section title
  - subtitle: string - Section description
  - showDescription: boolean - Show product description (default: false for home)
  - showStock: boolean - Show stock status (default: false for home)
  - showAddToCart: boolean - Show add to cart button (default: true)
  - ctaText: string - View all button text
  - ctaLink: string - View all button link
  - limit: number - Number of products to show
  
  DataSource: { type: "products", filter: "latest", limit: 8 }
--}}

<section class="sf-section sf-products-section" data-grid-cols="{{default workspace.homeGridColumns 4}}">
  <div class="sf-container">
    {{#if config.title}}
    <div class="sf-section-header">
      <h2 class="sf-section-title">{{config.title}}</h2>
      {{#if config.subtitle}}
      <p class="sf-section-description">{{config.subtitle}}</p>
      {{/if}}
    </div>
    {{/if}}
    
    {{> product-grid 
        products=products 
        showDescription=(default config.showDescription true)
        showStock=(default config.showStock false)
        showAddToCart=(default config.showAddToCart true)
    }}
    
    {{#if config.ctaText}}
    <div class="sf-section-footer">
      <a href="{{default config.ctaLink "/shop"}}" class="sf-btn sf-btn-outline sf-btn-lg">
        {{config.ctaText}}
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M5 12h14"/>
          <path d="m12 5 7 7-7 7"/>
        </svg>
      </a>
    </div>
    {{/if}}
  </div>
</section>
